<template>
  <section>
    <div class="xiaosai">
      <div class="xstxt1">
        <div class="txt1">åœ¨ <span>5</span> æœˆ <span>12</span> æ—¥<br>ä½ å‚åŠ äº†ç´§å¼ åˆºæ¿€çš„ <span>ç¬¬åå…­å±Šæ ¡èµ›</span></div>
        <div class="txt2">ä½ ä¸ <span>{{ co }}</span> åé€‰æ‰‹<br>ä»¥åŠ <span>{{ small }}</span> åä¸­å°å­¦ç”ŸåŒå°ç«æŠ€</div>
        <div class="txt3">å¹¶æ‹¿ä¸‹äº† <span :class="medal ? `text-${medal}-dark` : ''">{{ cj }}</span> çš„å¥½æˆç»©</div>
      </div>
      <div class="xstxt2">
        <div>è¿™å±Šæ ¡èµ›ä¸­</div>
        <div>ã€Œå…¨æ–°çš„åŒæ­¥ç›´æ’­ã€</div>
        <div>
          <span>ã€Œé«˜èƒ½æ»šæ¦œã€</span>ä¸<span>ã€Œé—­å¹•å¼èŠ‚ç›®ã€</span>é¦–æ¬¡äº®ç›¸
        </div>
        <div>ä¸ºè¿™åœºç››ä¼šå¢æ·»äº†æ›´å¤šç²¾å½© <span>ğŸ¥³</span></div>
      </div>
      <div class="container">
        <div class="bubble">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <img
            src="../assets/img/sdutacm_logo_colorful-02a05aa9.svg"
            alt=""
            class="img1"
          />
        </div>
        <div class="bubble">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <img
            src="../assets/img/sdutacm_logo_colorful-02a05aa9.svg"
            alt=""
            class="img1"
          />
        </div>
        <div class="bubble">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <img
            src="../assets/img/sdutacm_logo_colorful-02a05aa9.svg"
            alt=""
            class="img1"
          />
        </div>
        <div class="bubble">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <img
            src="../assets/img/sdutacm_logo_colorful-02a05aa9.svg"
            alt=""
            class="img1"
          />
        </div>
        <div class="bubble">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <img
            src="../assets/img/sdutacm_logo_colorful-02a05aa9.svg"
            alt=""
            class="img1"
          />
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { can, isnext, isScoll } from "@/assets/global";
import { onMounted, ref } from "vue";
import { liuyang } from "@/assets/global";
let co = liuyang.value.competition.sdutpc17.officialParticipantCount
let small = liuyang.value.competition.sdutpc17.unofficialParticipantCount
let cj = liuyang.value.competition.sdutpc17.awardStr
let medal = liuyang.value.competition.sdutpc17.medal
onMounted(() => {
  const allanim = new IntersectionObserver(
    (lists) => {
      lists.forEach((list) => {
        if (list.isIntersecting) {
          setTimeout(() => {
            can.value = true;
            isnext.value = true;
            isScoll.value = true;
          }, 12500);
          list.target.classList.add("active");
          const xstxt1 = document.querySelector(".xstxt1");
          const xstxt2 = document.querySelector(".xstxt2");
          const bubble = document.querySelector(".container");
          bubble.classList.add("active");
          setTimeout(() => {
            xstxt1.classList.add("active");
          }, 1000);
          setTimeout(() => {
            xstxt1.classList.remove("active");
            setTimeout(() => {
              xstxt2.classList.add("active");
            }, 1000);
          }, 10000);
        } else {
          list.target.classList.remove("active");
        }
      });
    },
    { threshold: 0.5 }
  );

  const xiaosai = document.querySelector(".xiaosai");
  allanim.observe(xiaosai);
});
</script>

<style scoped>
@import url("../assets/xiaosai.css");
.active {
  transform: translateY(0);
  filter: blur(0);
  opacity: 1;
}
</style>
